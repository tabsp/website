# Repository Guidelines

## Project Structure & Module Organization
Source lives in `src/`: reusable UI in `src/components`, pages in `src/pages`, and post templates in `src/templates`. Markdown posts stay under `content/blog/posts/<slug>/index.md`; shared media sits in `content/assets`. Global styling is handled by `src/style.css` and `src/normalize.css`. Plugin metadata and build hooks belong in `gatsby-config.js` and `gatsby-node.js`, while long-lived static assets ship from `static/`.

## Build, Test, and Development Commands
Run `yarn develop` (or `npm run develop`) for the local dev server at `http://localhost:8000`. Ship production bundles with `yarn build`, and validate them via `yarn serve`. Reach for `yarn clean` when Gatsby cache artifacts drift. Before pushing, run `yarn format`, `yarn lint`, and `yarn test --runInBand`.

## Coding Style & Naming Conventions
Adopt the Prettier defaults (two-space indentation, single quotes disabled) by running the formatter before committing. React components live in their own directory, export a single default component, and use PascalCase filenames (e.g., `BlogPostPreview.js`). Utility modules and hooks should use camelCase. Place companion styles alongside components or in the global stylesheets; avoid inline styles unless needed for overrides. Keep frontmatter keys in Markdown lowercase with hyphenated slugs.

## Testing Guidelines
Jest with React Testing Library is configured; colocate specs alongside the source (e.g., `Component.test.js` under `src/components/__tests__/`). Mock Gatsby helpers via the shared `tests/__mocks__` utilities when needed, and favor screen queries (`screen.getByRole`) for resilient assertions. Keep coverage expectations explicit in PRs until enforceable thresholds are agreed.

## Environment & Analytics
Analytics IDs are read from `GATSBY_GTAG_ID` and `GATSBY_CLARITY_PROJECT_ID`. Store them in `.env.development` / `.env.production` (never check secrets into Git) and restart the dev server after edits. Leaving them unset disables the related plugins locally so you can develop without polluting production dashboards.

## Maintenance Tasks
Run `yarn browserslist:update` occasionally (CI also executes it) to refresh the caniuse dataset and prevent warning spam. When linking to tag archives, rely on the slugified path (`/tags/<slug>`) generated by `src/utils/slugify.js`.

## Commit & Pull Request Guidelines
Follow the existing short, imperative commit style (`fix syntax error`, `Update index.md`). Group related changes together and avoid multi-topic commits. Every pull request should describe the change, note any content migrations or schema updates, and reference related issues. Include screenshots or terminal output for visual changes or significant build steps, and mention required follow-up tasks when applicable.

## Content Workflow
Create new posts by copying an existing folder under `content/blog/posts/`, updating `index.md` frontmatter (`title`, `date`, `tags`) and assets. Keep filenames lowercase with hyphens, and verify links locally before publishing. Use `gatsby clean && yarn develop` after large content imports to refresh GraphQL data.
